"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[8425],{742:()=>{},4861:()=>{},8425:(s,e,n)=>{n.r(e),n.d(e,{default:()=>d});var a=n(5043),i=n(7488),r=(n(2342),n(8537)),l=n(3862),t=n(579);function c(s){let{investor:e,onClose:n,onAssign:r}=s;const[c,d]=(0,a.useState)([]),[o,h]=(0,a.useState)(""),[m,j]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{const s=await fetch((0,l.e)("get-brands-name.php")),e=await s.json();e.success?d(e.data):i.oR.error(e.message||"Failed to fetch brands for dropdown.")}catch(s){i.oR.error("Network error fetching brands for dropdown."),console.error("Error fetching brands:",s)}finally{j(!1)}})()},[]);return(0,t.jsx)("div",{className:"modal-overlay",children:(0,t.jsxs)("div",{className:"assign-modal",children:[(0,t.jsxs)("div",{className:"modal-header",children:[(0,t.jsxs)("h3",{children:["Assign ",e.name," to Brand"]}),(0,t.jsx)("button",{className:"close-btn",onClick:n,children:"\xd7"})]}),(0,t.jsxs)("div",{className:"modal-body",children:[(0,t.jsxs)("p",{children:["**Assigning** **`",e.name,"`** **to a brand.**"]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"brand-select",children:"Select Brand:"}),m?(0,t.jsx)("p",{children:"Loading brands..."}):(0,t.jsxs)("select",{id:"brand-select",value:o,onChange:s=>h(s.target.value),children:[(0,t.jsx)("option",{value:"",children:"-- Choose a Brand --"}),c.map(s=>(0,t.jsx)("option",{value:s.id,children:s.name},s.id))]})]})]}),(0,t.jsxs)("div",{className:"modal-footer",children:[(0,t.jsx)("button",{className:"btn-assign",onClick:async()=>{if(!o)return void i.oR.error("Please select a brand to assign.");const s={name:e.name,phone:e.phone,email:e.email,state:e.state_name,state_id:e.state_id,city:e.city_name,city_id:e.city_id,message:e.message,brand_id:o};console.log("Data being sent to PHP:",s),console.log("JSON stringified data:",JSON.stringify(s));try{const e=await fetch((0,l.e)("assign-investor.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});console.log("Raw response status:",e.status);const n=await e.text();console.log("Raw response text:",n);const a=JSON.parse(n);a.success?(i.oR.success(a.message),r()):i.oR.error(a.message||"Failed to assign investor.")}catch(n){i.oR.error("API error during assignment: "+n.message),console.error("Error during API call:",n)}},disabled:!o,children:"Assign"}),(0,t.jsx)("button",{className:"btn-cancel",onClick:n,children:"Cancel"})]})]})})}n(742),n(4861);function d(){const[s,e]=(0,a.useState)([]),[n,d]=(0,a.useState)(!0),[o,h]=(0,a.useState)(null),[m,j]=(0,a.useState)(!1),[x,N]=(0,a.useState)(null),u=(0,a.useCallback)(async()=>{d(!0);try{const s=await fetch((0,l.e)("get-generic-inquiries.php")),n=await s.json();n.success?(e(n.data),h(null)):(i.oR.error(n.message||"Failed to fetch inquiries."),h(n.message))}catch(s){i.oR.error("Network error. Please check your server connection."),h(s.message)}finally{d(!1)}},[]);(0,a.useEffect)(()=>{u()},[u]);const b=()=>{N(null),j(!1)};return(0,t.jsxs)("div",{className:"dashboard-container",children:[(0,t.jsx)(r.A,{}),(0,t.jsxs)("div",{className:"main-content",children:[(0,t.jsx)(i.N9,{position:"top-right",autoClose:3e3}),(0,t.jsxs)("div",{className:"investor-table-container",children:[(0,t.jsx)("div",{className:"table-header",children:(0,t.jsx)("h2",{className:"table-title",children:"All Inquiries"})}),n?(0,t.jsx)("div",{className:"loading",children:"Loading inquiries..."}):o?(0,t.jsxs)("div",{className:"error",children:["Error: ",o]}):0===s.length?(0,t.jsx)("div",{className:"no-data",children:"No Inquiries found."}):(0,t.jsx)("div",{className:"table-wrapper",children:(0,t.jsxs)("table",{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Person Name"}),(0,t.jsx)("th",{children:"Phone"}),(0,t.jsx)("th",{children:"Email"}),(0,t.jsx)("th",{children:"State"}),(0,t.jsx)("th",{children:"City"}),(0,t.jsx)("th",{children:"Message"}),(0,t.jsx)("th",{children:"Assign"})]})}),(0,t.jsx)("tbody",{children:s.map(s=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:s.name}),(0,t.jsx)("td",{children:s.phone}),(0,t.jsx)("td",{children:s.email}),(0,t.jsx)("td",{children:s.state_name}),(0,t.jsx)("td",{children:s.city_name}),(0,t.jsx)("td",{children:s.message}),(0,t.jsx)("td",{children:(0,t.jsx)("button",{className:"assign-btn",onClick:()=>(N(s),void j(!0)),children:"Assign"})})]},s.id))})]})})]}),m&&(0,t.jsx)(c,{investor:x,onClose:b,onAssign:()=>{i.oR.success("Investor Assigned Successfully!"),u(),b()}})]})]})}},8537:(s,e,n)=>{n.d(e,{A:()=>d});var a=n(9379),i=n(5043),r=n(9981),l=n(7488),t=n(184),c=n(579);const d=()=>{const[s,e]=(0,i.useState)({master:!1,franchising:!1,marketing:!1,leasing:!1,admin:!1}),[n,d]=(0,i.useState)(!1),[o,h]=(0,i.useState)("Guest"),[m,j]=(0,i.useState)(""),x=(0,r.Zp)();(0,i.useEffect)(()=>{const s=localStorage.getItem("adminName"),e=localStorage.getItem("adminEmail");s&&h(s),e&&j(e)},[]);const N=s=>{e(e=>(0,a.A)((0,a.A)({},e),{},{[s]:!e[s]}))};return(0,c.jsxs)("aside",{className:"snbs-sidebar ".concat(n?"collapsed":""),children:[(0,c.jsxs)("div",{className:"snbs-sidebar-header",children:[(0,c.jsx)("div",{className:"snbs-logo",children:!n&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h2",{children:"FRANMAX INDIA"}),(0,c.jsxs)("p",{className:"snbs-role",children:["Welcome, ",o]}),m&&(0,c.jsx)("p",{className:"snbs-email",children:m})]})}),(0,c.jsx)("button",{className:"snbs-toggle-btn",onClick:()=>d(!n),children:n?(0,c.jsx)(t.OXb,{}):(0,c.jsx)(t.QCr,{})})]}),(0,c.jsxs)("nav",{className:"snbs-menu",children:[(0,c.jsxs)("div",{className:"snbs-section",children:[(0,c.jsxs)("div",{className:"snbs-section-header",onClick:()=>N("franchising"),children:[(0,c.jsx)("span",{children:"FRANCHISING"}),s.franchising?(0,c.jsx)(t.Vr3,{}):(0,c.jsx)(t.X6T,{})]}),s.franchising&&!n&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(r.N_,{to:"/admin/brand-list",className:"snbs-link",children:[(0,c.jsx)(t.ymh,{})," Brand"]}),(0,c.jsxs)(r.N_,{to:"/admin/investors",className:"snbs-link",children:[(0,c.jsx)(t.p7b,{})," Investor"]}),(0,c.jsxs)(r.N_,{to:"/admin/leads",className:"snbs-link",children:[(0,c.jsx)(t.p7b,{}),"Generic Inquiries"]}),(0,c.jsxs)(r.N_,{to:"/admin/brand-inquiries",className:"snbs-link",children:[(0,c.jsx)(t.p7b,{}),"Brand Specific Inquiries"]}),(0,c.jsxs)(r.N_,{to:"/admin/partner-inquiries",className:"snbs-link",children:[(0,c.jsx)(t.p7b,{}),"Partner Inquiries"]}),(0,c.jsxs)(r.N_,{to:"/admin/newsletter",className:"snbs-link",children:[(0,c.jsx)(t.p7b,{}),"Newsletter"]}),(0,c.jsxs)(r.N_,{to:"/admin/faq",className:"snbs-link",children:[(0,c.jsx)(t.p7b,{}),"FAQ"]}),(0,c.jsxs)(r.N_,{to:"/admin/event",className:"snbs-link",children:[(0,c.jsx)(t.p7b,{}),"Event"]})]})]}),(0,c.jsxs)("div",{className:"snbs-section",children:[(0,c.jsxs)("div",{className:"snbs-section-header",onClick:()=>N("marketing"),children:[(0,c.jsx)("span",{children:"MARKETING"}),s.marketing?(0,c.jsx)(t.Vr3,{}):(0,c.jsx)(t.X6T,{})]}),s.marketing&&!n&&(0,c.jsxs)(r.N_,{to:"/admin/marketing-inquiries",className:"snbs-link",children:[(0,c.jsx)(t.sdT,{})," Marketing"]})]}),(0,c.jsxs)("div",{className:"snbs-section",children:[(0,c.jsxs)("div",{className:"snbs-section-header",onClick:()=>N("leasing"),children:[(0,c.jsx)("span",{children:"LEASING"}),s.leasing?(0,c.jsx)(t.Vr3,{}):(0,c.jsx)(t.X6T,{})]}),s.leasing&&!n&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(r.N_,{to:"#",className:"snbs-link",children:[(0,c.jsx)(t.zsO,{})," Buy Lease Property inquiries"]}),(0,c.jsxs)(r.N_,{to:"/admin/lease-properties",className:"snbs-link",children:[(0,c.jsx)(t.zsO,{})," Lease Property inquiries"]}),(0,c.jsxs)(r.N_,{to:"#",className:"snbs-link",children:[(0,c.jsx)(t.zsO,{})," Sell Property"]}),(0,c.jsxs)(r.N_,{to:"/admin/buy-business-inquiries",className:"snbs-link",children:[(0,c.jsx)(t.zsO,{}),"Buy Business Inquiry"]}),(0,c.jsxs)(r.N_,{to:"/admin/sell-business-inquiries",className:"snbs-link",children:[(0,c.jsx)(t.zsO,{})," Sell Business"]})]})]}),(0,c.jsxs)("div",{className:"snbs-section",children:[(0,c.jsxs)("div",{className:"snbs-section-header",onClick:()=>N("admin"),children:[(0,c.jsx)("span",{children:"ADMIN"}),s.admin?(0,c.jsx)(t.Vr3,{}):(0,c.jsx)(t.X6T,{})]}),s.admin&&!n&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(r.N_,{to:"/user-list",className:"snbs-link",children:[(0,c.jsx)(t.YXz,{})," Users"]}),(0,c.jsxs)(r.N_,{to:"#",onClick:()=>{localStorage.removeItem("adminId"),localStorage.removeItem("adminName"),localStorage.removeItem("adminEmail"),l.oR.info("You have been logged out."),x("/admin/login")},className:"snbs-link",children:[(0,c.jsx)(t.x7F,{})," Logout"]})]})]})]})]})}}}]);
//# sourceMappingURL=8425.ffe88977.chunk.js.map