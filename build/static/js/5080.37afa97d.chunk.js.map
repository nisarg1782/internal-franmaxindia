{"version":3,"file":"static/js/5080.37afa97d.chunk.js","mappings":"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","sources":["components/FranchiseListing.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom'; // <-- added useNavigate\r\nimport './design/FranchiseListing.css';\r\nimport InquiryForm from './EnquiryForm';\r\nimport './design/ListingInquiry.css';\r\nimport { getImageUrl, getApiUrl } from '../utils/api';\r\n\r\nconst FranchiseListing = () => {\r\n  const { categoryId } = useParams();\r\n  const navigate = useNavigate(); // <-- initialize navigate\r\n  const [brands, setBrands] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const apiUrl = getApiUrl(`get-brands-by-category.php?category_id=${categoryId}`);\r\n\r\n  useEffect(() => {\r\n    const fetchBrands = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const res = await fetch(apiUrl);\r\n        if (!res.ok) throw new Error('Network response was not ok');\r\n\r\n        const data = await res.json();\r\n        if (data.success && Array.isArray(data.brands)) {\r\n          setBrands(data.brands);\r\n          setError(null);\r\n        } else {\r\n          setBrands([]);\r\n          setError(data.message || 'No brands found for this category.');\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error fetching brands:\", err);\r\n        setError(\"Failed to fetch brands. Please try again.\");\r\n        setBrands([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (categoryId) fetchBrands();\r\n  }, [categoryId, apiUrl]);\r\n\r\n  const handleKnowMore = (register_id) => {\r\n    navigate(`/brand/${register_id}`);  // Must match the route in App.js\r\n  };\r\n  if (loading) return <div className=\"loading-message\">Loading brands...</div>;\r\n  if (error) return <div className=\"error-message\">{error}</div>;\r\n  if (brands.length === 0) return <div className=\"no-brands-message\">No franchises found in this category.</div>;\r\n  return (\r\n    <div className=\"franchise-listing-container\">\r\n      <div className=\"franchise-listing-main\">\r\n        <div className=\"franchise-listing-header\">\r\n          <h2 className=\"syb-heading\">All Franchises in Category</h2>\r\n        </div>\r\n\r\n        <div className=\"franchise-grid\">\r\n          {brands.map((brand, i) => (\r\n            <div className=\"franchise-card\" key={brand.id || i}>\r\n              <div className=\"franchise-img-wrap\">\r\n                <img\r\n                  src={getImageUrl(brand.logo) || 'https://via.placeholder.com/200'}\r\n                  alt={brand.name || 'Brand'}\r\n                />\r\n              </div>\r\n              <div className=\"franchise-content\">\r\n                <h3>{brand.name || 'Unknown Brand'}</h3>\r\n                <div className=\"franchise-detail\">\r\n                  <div className=\"biz-field\">\r\n                    <span className=\"label\">Sector:</span>\r\n                    <span className=\"value\">{brand.sector || '—'}</span>\r\n                  </div>\r\n                  <div className=\"biz-field\">\r\n                    <span className=\"label\">Investment:</span>\r\n                    <span className=\"value\">₹{brand.min_investment} - {brand.max_investment}</span>\r\n                  </div>\r\n                  <div className=\"biz-field\">\r\n                    <span className=\"label\">Area:</span>\r\n                    <span className=\"value\">{brand.min_area || 0} - {brand.max_area || 0} sq.ft</span>\r\n                  </div>\r\n                  <div className=\"biz-field\">\r\n                    <span className=\"label\">Outlets:</span>\r\n                    <span className=\"value\">{brand.total_outlets || 0}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Navigate to product detail page */}\r\n                <button\r\n                  className=\"franchise-btn\"\r\n                  onClick={() => handleKnowMore(brand.register_id)}\r\n                >\r\n                  Know More\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"franchise-listing-sidebar\">\r\n        <InquiryForm />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default FranchiseListing;\r\n"],"names":["FranchiseListing","categoryId","useParams","navigate","useNavigate","brands","setBrands","useState","loading","setLoading","error","setError","apiUrl","getApiUrl","concat","useEffect","async","res","fetch","ok","Error","data","json","success","Array","isArray","message","err","console","fetchBrands","_jsx","className","children","length","_jsxs","map","brand","i","src","getImageUrl","logo","alt","name","sector","min_investment","max_investment","min_area","max_area","total_outlets","onClick","handleKnowMore","register_id","id","InquiryForm"],"sourceRoot":""}