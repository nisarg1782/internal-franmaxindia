"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[8783],{3610:()=>{},8537:(s,e,n)=>{n.d(e,{A:()=>d});var i=n(9379),a=n(5043),t=n(9981),l=n(7488),c=n(184),r=n(579);const d=()=>{const[s,e]=(0,a.useState)({master:!1,franchising:!1,marketing:!1,leasing:!1,admin:!1}),[n,d]=(0,a.useState)(!1),[o,m]=(0,a.useState)("Guest"),[h,x]=(0,a.useState)(""),j=(0,t.Zp)();(0,a.useEffect)(()=>{const s=localStorage.getItem("adminName"),e=localStorage.getItem("adminEmail");s&&m(s),e&&x(e)},[]);const N=s=>{e(e=>(0,i.A)((0,i.A)({},e),{},{[s]:!e[s]}))};return(0,r.jsxs)("aside",{className:"snbs-sidebar ".concat(n?"collapsed":""),children:[(0,r.jsxs)("div",{className:"snbs-sidebar-header",children:[(0,r.jsx)("div",{className:"snbs-logo",children:!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{children:"FRANMAX INDIA"}),(0,r.jsxs)("p",{className:"snbs-role",children:["Welcome, ",o]}),h&&(0,r.jsx)("p",{className:"snbs-email",children:h})]})}),(0,r.jsx)("button",{className:"snbs-toggle-btn",onClick:()=>d(!n),children:n?(0,r.jsx)(c.OXb,{}):(0,r.jsx)(c.QCr,{})})]}),(0,r.jsxs)("nav",{className:"snbs-menu",children:[(0,r.jsxs)("div",{className:"snbs-section",children:[(0,r.jsxs)("div",{className:"snbs-section-header",onClick:()=>N("franchising"),children:[(0,r.jsx)("span",{children:"FRANCHISING"}),s.franchising?(0,r.jsx)(c.Vr3,{}):(0,r.jsx)(c.X6T,{})]}),s.franchising&&!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.N_,{to:"/admin/brand-list",className:"snbs-link",children:[(0,r.jsx)(c.ymh,{})," Brand"]}),(0,r.jsxs)(t.N_,{to:"/admin/investors",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{})," Investor"]}),(0,r.jsxs)(t.N_,{to:"/admin/leads",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{}),"Generic Inquiries"]}),(0,r.jsxs)(t.N_,{to:"/admin/brand-inquiries",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{}),"Brand Specific Inquiries"]}),(0,r.jsxs)(t.N_,{to:"/admin/partner-inquiries",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{}),"Partner Inquiries"]}),(0,r.jsxs)(t.N_,{to:"/admin/newsletter",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{}),"Newsletter"]}),(0,r.jsxs)(t.N_,{to:"/admin/faq",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{}),"FAQ"]}),(0,r.jsxs)(t.N_,{to:"/admin/event",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{}),"Event"]})]})]}),(0,r.jsxs)("div",{className:"snbs-section",children:[(0,r.jsxs)("div",{className:"snbs-section-header",onClick:()=>N("marketing"),children:[(0,r.jsx)("span",{children:"MARKETING"}),s.marketing?(0,r.jsx)(c.Vr3,{}):(0,r.jsx)(c.X6T,{})]}),s.marketing&&!n&&(0,r.jsxs)(t.N_,{to:"/admin/marketing-inquiries",className:"snbs-link",children:[(0,r.jsx)(c.sdT,{})," Marketing"]})]}),(0,r.jsxs)("div",{className:"snbs-section",children:[(0,r.jsxs)("div",{className:"snbs-section-header",onClick:()=>N("leasing"),children:[(0,r.jsx)("span",{children:"LEASING"}),s.leasing?(0,r.jsx)(c.Vr3,{}):(0,r.jsx)(c.X6T,{})]}),s.leasing&&!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.N_,{to:"#",className:"snbs-link",children:[(0,r.jsx)(c.zsO,{})," Buy Lease Property inquiries"]}),(0,r.jsxs)(t.N_,{to:"/admin/lease-properties",className:"snbs-link",children:[(0,r.jsx)(c.zsO,{})," Lease Property inquiries"]}),(0,r.jsxs)(t.N_,{to:"#",className:"snbs-link",children:[(0,r.jsx)(c.zsO,{})," Sell Property"]}),(0,r.jsxs)(t.N_,{to:"/admin/buy-business-inquiries",className:"snbs-link",children:[(0,r.jsx)(c.zsO,{}),"Buy Business Inquiry"]}),(0,r.jsxs)(t.N_,{to:"/admin/sell-business-inquiries",className:"snbs-link",children:[(0,r.jsx)(c.zsO,{})," Sell Business"]})]})]}),(0,r.jsxs)("div",{className:"snbs-section",children:[(0,r.jsxs)("div",{className:"snbs-section-header",onClick:()=>N("admin"),children:[(0,r.jsx)("span",{children:"ADMIN"}),s.admin?(0,r.jsx)(c.Vr3,{}):(0,r.jsx)(c.X6T,{})]}),s.admin&&!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.N_,{to:"/user-list",className:"snbs-link",children:[(0,r.jsx)(c.YXz,{})," Users"]}),(0,r.jsxs)(t.N_,{to:"#",onClick:()=>{localStorage.removeItem("adminId"),localStorage.removeItem("adminName"),localStorage.removeItem("adminEmail"),l.oR.info("You have been logged out."),j("/admin/login")},className:"snbs-link",children:[(0,r.jsx)(c.x7F,{})," Logout"]})]})]})]})]})}},8783:(s,e,n)=>{n.r(e),n.d(e,{default:()=>h});var i=n(9379),a=n(5043),t=n(2823),l=n.n(t),c=(n(5884),n(3610),n(8537)),r=n(184),d=n(7488),o=(n(2342),n(3862)),m=n(579);function h(){const[s,e]=(0,a.useState)([]),[n,t]=(0,a.useState)(null),[h,x]=(0,a.useState)(!0),[j,N]=(0,a.useState)(!1),[u,b]=(0,a.useState)(null),[p,g]=(0,a.useState)({title:"",description:""}),[v,k]=(0,a.useState)(null),[w,f]=(0,a.useState)({title:"",image:null,description:""}),C=()=>{N(!1),f({title:"",image:null,description:""})},y=s=>{const{name:e,value:n,files:a}=s.target;f(s=>(0,i.A)((0,i.A)({},s),{},{[e]:a?a[0]:n}))},S=()=>{b(null),g({title:"",description:""})},A=s=>{const{name:e,value:n}=s.target;g(s=>(0,i.A)((0,i.A)({},s),{},{[e]:n}))},I=s=>{g(e=>(0,i.A)((0,i.A)({},e),{},{description:s}))},_=()=>{k(null)},q=async s=>{x(!0);try{const e=await fetch((0,o.e)("add-news.php"),{method:"POST",body:s});if(!e.ok)throw new Error("Network response was not ok.");const n=await e.json();n.success?(d.oR.success(n.message),D(),C(),b(null)):d.oR.error(n.message||"An unexpected error occurred.")}catch(e){d.oR.error("Failed to communicate with the server.")}finally{x(!1)}},F=s=>{s.preventDefault();const e=new FormData;e.append("action","edit"),e.append("id",u),e.append("title",p.title),e.append("description",p.description),q(e)},D=async()=>{x(!0);try{const s=await fetch((0,o.e)("get-news.php"));if(!s.ok)throw new Error("Network response was not ok");const n=await s.json();n.success?e(n.news):e([])}catch(s){d.oR.error("Failed to fetch newsletters.")}finally{x(!1)}};return(0,a.useEffect)(()=>{D()},[]),(0,m.jsxs)("div",{className:"newsletter-page-container",children:[(0,m.jsx)(c.A,{}),(0,m.jsxs)("div",{className:"main-content",children:[(0,m.jsx)(d.N9,{}),(0,m.jsxs)("div",{className:"table-header",children:[(0,m.jsx)("h2",{className:"table-title",children:"Newsletters"}),(0,m.jsxs)("button",{onClick:()=>N(!0),className:"add-news-btn",children:[(0,m.jsx)(r.OiG,{className:"icon"})," Add News"]})]}),h&&(0,m.jsx)("div",{className:"loading",children:"Loading..."}),!h&&0===s.length&&(0,m.jsx)("div",{className:"no-data-message",children:"No newsletters found."}),!h&&s.length>0&&(0,m.jsx)("div",{className:"table-wrapper",children:(0,m.jsxs)("table",{className:"newsletter-table",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"ID"}),(0,m.jsx)("th",{children:"Title"}),(0,m.jsx)("th",{children:"Created At"}),(0,m.jsx)("th",{children:"Action"})]})}),(0,m.jsx)("tbody",{children:s.map(s=>(0,m.jsxs)(a.Fragment,{children:[u===s.id?(0,m.jsxs)("tr",{className:"edit-row",children:[(0,m.jsx)("td",{children:s.id}),(0,m.jsx)("td",{children:(0,m.jsx)("input",{type:"text",name:"title",value:p.title,onChange:A})}),(0,m.jsx)("td",{children:s.created_at}),(0,m.jsxs)("td",{className:"action-buttons",children:[(0,m.jsxs)("button",{onClick:F,className:"save-btn",children:[(0,m.jsx)(r.dIn,{})," Save"]}),(0,m.jsxs)("button",{onClick:S,className:"cancel-btn",children:[(0,m.jsx)(r.QCr,{})," Cancel"]})]})]}):(0,m.jsxs)("tr",{className:"summary-row",children:[(0,m.jsx)("td",{children:s.id}),(0,m.jsx)("td",{children:s.title}),(0,m.jsx)("td",{children:s.created_at}),(0,m.jsxs)("td",{className:"action-buttons",children:[(0,m.jsx)("button",{onClick:()=>{return e=s.id,void t(n===e?null:e);var e},className:"expand-btn",children:n===s.id?"Hide Details":"View Details"}),(0,m.jsxs)("button",{onClick:()=>(s=>{b(s.id),g({title:s.title,description:s.description})})(s),className:"edit-btn",children:[(0,m.jsx)(r.uO9,{})," Edit"]}),(0,m.jsxs)("button",{onClick:()=>{return e=s.id,void k(e);var e},className:"delete-btn",children:[(0,m.jsx)(r.qbC,{})," Delete"]})]})]}),u===s.id&&(0,m.jsx)("tr",{className:"details-row",children:(0,m.jsx)("td",{colSpan:"4",children:(0,m.jsx)("div",{className:"details-box",children:(0,m.jsx)(l(),{theme:"snow",value:p.description,onChange:I})})})}),n===s.id&&(0,m.jsx)("tr",{className:"details-row",children:(0,m.jsx)("td",{colSpan:"4",children:(0,m.jsxs)("div",{className:"details-box",children:[s.image&&(0,m.jsx)("img",{src:(0,o.V)("".concat(s.image)),alt:s.title,className:"newsletter-image"}),(0,m.jsx)("div",{className:"newsletter-description-html",dangerouslySetInnerHTML:{__html:s.description}})]})})})]},s.id))})]})})]}),j&&(0,m.jsx)("div",{className:"modal-overlay",children:(0,m.jsxs)("div",{className:"modal-content",children:[(0,m.jsxs)("div",{className:"modal-header",children:[(0,m.jsx)("h3",{children:"Add New Newsletter"}),(0,m.jsx)("button",{className:"close-btn",onClick:C,children:"\xd7"})]}),(0,m.jsxs)("form",{onSubmit:s=>{s.preventDefault();const e=new FormData;e.append("action","add"),e.append("title",w.title),e.append("image",w.image),e.append("description",w.description),q(e)},className:"add-news-form",encType:"multipart/form-data",children:[(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{htmlFor:"title",children:"Title"}),(0,m.jsx)("input",{type:"text",id:"title",name:"title",value:w.title,onChange:y,required:!0})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{htmlFor:"image",children:"Image"}),(0,m.jsx)("input",{type:"file",id:"image",name:"image",accept:"image/*",onChange:y,required:!0})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{children:"Description"}),(0,m.jsx)(l(),{theme:"snow",value:w.description,onChange:s=>{f(e=>(0,i.A)((0,i.A)({},e),{},{description:s}))}})]}),(0,m.jsxs)("div",{className:"form-actions",children:[(0,m.jsx)("button",{type:"submit",className:"submit-btn",children:"Add News"}),(0,m.jsx)("button",{type:"button",className:"cancel-btn",onClick:C,children:"Cancel"})]})]})]})}),v&&(0,m.jsx)("div",{className:"modal-overlay",children:(0,m.jsxs)("div",{className:"modal-content",children:[(0,m.jsxs)("div",{className:"modal-header",children:[(0,m.jsx)("h3",{children:"Confirm Deletion"}),(0,m.jsx)("button",{className:"close-btn",onClick:_,children:"\xd7"})]}),(0,m.jsx)("div",{className:"modal-body",children:(0,m.jsx)("p",{children:"Are you sure you want to delete this newsletter? This action cannot be undone."})}),(0,m.jsxs)("div",{className:"modal-footer",children:[(0,m.jsxs)("button",{className:"delete-btn",onClick:()=>{const s=new FormData;s.append("id",v),s.append("action","delete"),q(s),k(null)},children:[(0,m.jsx)(r.qbC,{})," Delete"]}),(0,m.jsxs)("button",{className:"cancel-btn",onClick:_,children:[(0,m.jsx)(r.QCr,{})," Cancel"]})]})]})})]})}}}]);
//# sourceMappingURL=8783.e9b667a4.chunk.js.map