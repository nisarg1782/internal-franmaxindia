"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[9815],{7281:(e,a,n)=>{n.d(a,{A:()=>c});var s=n(5043),r=(n(9840),n(9981)),t=n(184),i=n(579);const c=()=>{const[e,a]=(0,s.useState)(!0);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"brand-sidebar ".concat(e?"open":"collapsed"),children:[(0,i.jsxs)("div",{className:"sidebar-header",children:[e?"Brand CRM":"",(0,i.jsx)("button",{className:"toggle-btn",onClick:()=>{a(!e)},children:e?(0,i.jsx)(t.QCr,{}):(0,i.jsx)(t.OXb,{})})]}),(0,i.jsxs)("ul",{className:"sidebar-menu",children:[(0,i.jsx)("li",{children:(0,i.jsxs)(r.N_,{to:"/brand/dashboard",children:["\ud83c\udfe0 ",e&&"Dashboard"]})}),(0,i.jsx)("li",{children:(0,i.jsxs)(r.N_,{to:"/brand/inquiries",children:["\ud83d\udce8 ",e&&"Inquiries"]})}),(0,i.jsx)("li",{children:(0,i.jsxs)(r.N_,{to:"/brand/upload-docs",children:["\ud83d\udcc1 ",e&&"Upload Docs"]})}),(0,i.jsx)("div",{className:"sidebar-divider"})," ",(0,i.jsx)("li",{children:(0,i.jsxs)(r.N_,{to:"/brand/profile",children:["\ud83d\udc64 ",e&&"Profile"]})}),(0,i.jsx)("li",{children:(0,i.jsxs)(r.N_,{to:"/pricing",children:["\ud83d\udcbc ",e&&"Pricing"]})}),(0,i.jsx)("li",{children:(0,i.jsxs)("a",{href:"#",onClick:()=>{localStorage.clear(),window.location.href="/"},children:["\ud83d\udeaa ",e&&"Logout"]})})]})]})})}},9815:(e,a,n)=>{n.r(a),n.d(a,{default:()=>o});var s=n(5043),r=n(184),t=n(7281),i=n(9981),c=n(3862),l=n(579);const o=()=>{const[e,a]=(0,s.useState)([]),[n,o]=(0,s.useState)(null),[d,h]=(0,s.useState)(!1),p=(0,i.Zp)();(0,s.useEffect)(()=>{const e=localStorage.getItem("userSession");if(e){const a=JSON.parse(e);"brand"===a.user_type?o(a):p("/")}else p("/")},[p]),(0,s.useEffect)(()=>{fetch((0,c.e)("get-plans-with-benefits.php")).then(e=>e.json()).then(e=>{e.success&&a(e.plans)}).catch(e=>console.error("Error fetching brand plans:",e))},[]);const m=async e=>{if(!n)return void alert("Please login as brand to proceed.");h(!0);var a;if(!await(a="https://checkout.razorpay.com/v1/checkout.js",new Promise(e=>{const n=document.createElement("script");n.src=a,n.onload=()=>e(!0),n.onerror=()=>e(!1),document.body.appendChild(n)})))return alert("Failed to load Razorpay. Check your internet connection."),void h(!1);try{const a={key:"rzp_live_R80fc1Istwbzk9",amount:100*e.price,currency:"INR",name:"FRANMAX INDIA",description:"Payment for your selected brand plan",image:"http://franmaxindia.com/images/icon.png",theme:{color:"#156beb"},prefill:{name:n.name,email:n.email,contact:n.mobile},handler:async function(a){try{const s=(new Date).toISOString(),r=await fetch((0,c.e)("submit_brand_payment.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payment_id:a.razorpay_payment_id,payment_date_time:s,user_id:n.id,plan_id:e.id,amount:e.price,month:e.time_duration})}),t=await r.json();"success"===t.status?alert("Payment successful!\nPlan Start: ".concat(t.plan_start_date,"\nPlan End: ").concat(t.plan_end_date)):alert("Payment recorded, but server returned an error: "+t.message)}catch(s){console.error("Verification error:",s),alert("Payment successful, but server verification failed.")}}};new window.Razorpay(a).open()}catch(s){console.error("Payment error:",s),alert("Something went wrong while initiating payment.")}h(!1)};return(0,l.jsxs)("div",{className:"pricing-wrapper",children:[(0,l.jsx)(t.A,{}),(0,l.jsxs)("div",{className:"pricing-main",children:[(0,l.jsx)("h1",{className:"plans-title",children:"Choose the Brand Plan That Fits You Best"}),(0,l.jsx)("p",{className:"plans-subtitle",children:"All brand plans include unique benefits tailored to your growth."}),(0,l.jsx)("div",{className:"plans-container",children:0===e.length?(0,l.jsx)("p",{className:"loading-msg",children:"Loading plans..."}):e.map((e,a)=>(0,l.jsxs)("div",{className:"plan-card",children:[(0,l.jsx)("h3",{children:e.name}),(0,l.jsxs)("p",{className:"price",children:["\u20b9",e.price]}),(0,l.jsxs)("p",{className:"duration",children:[e.time_duration," Month(s)"]}),(0,l.jsx)("ul",{className:"features",children:(Array.isArray(e.benefits)?e.benefits:[]).map((e,a)=>(0,l.jsxs)("li",{children:[(0,l.jsx)(r.A7C,{className:"icon"})," ",e]},a))}),(0,l.jsx)("button",{className:"get-started-btn",onClick:()=>m(e),disabled:d,children:d?"Processing...":"Get Started"})]},a))})]})]})}},9840:()=>{}}]);
//# sourceMappingURL=9815.7fc37855.chunk.js.map