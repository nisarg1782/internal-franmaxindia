"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[5495],{742:()=>{},4861:()=>{},5495:(s,e,a)=>{a.r(e),a.d(e,{default:()=>x});var n=a(5043),i=a(7488),l=a(184),t=(a(2342),a(9379)),r=a(2270),c=a(3862),o=a(579);const d=[{value:"active",label:"Active"},{value:"not active",label:"Not Active"}],m=(s,e)=>s.find(s=>s.value===e),h=(s,e,a,n,l)=>s.name.trim()?/^\d{10}$/.test(s.number)?/\S+@\S+\.\S+/.test(s.email)?l||s.password&&!(s.password.length<8)?e?a?!!n||i.oR.error("Please select a status.")&&!1:i.oR.error("Please select a city.")&&!1:i.oR.error("Please select a state.")&&!1:i.oR.error("Password must be at least 8 characters.")&&!1:i.oR.error("A valid email address is required.")&&!1:i.oR.error("A valid 10-digit mobile number is required.")&&!1:i.oR.error("Name is required.")&&!1;function u(s){let{show:e,onClose:a,onFormSubmissionSuccess:u,editingInvestor:j}=s;const[x,b]=(0,n.useState)([]),[N,v]=(0,n.useState)([]),[p,g]=(0,n.useState)({name:"",number:"",email:"",password:""}),[f,S]=(0,n.useState)(null),[k,y]=(0,n.useState)(null),[w,A]=(0,n.useState)(null),[C,I]=(0,n.useState)(!1),_=!!j;(0,n.useEffect)(()=>{e&&fetch((0,c.e)("get-indian-states.php")).then(s=>s.json()).then(s=>b(s.map(s=>({value:s.id,label:s.name})))).catch(()=>i.oR.error("Failed to load states."))},[e]),(0,n.useEffect)(()=>{if(!f)return v([]),void y(null);fetch("".concat((0,c.e)("get-cities.php"),"?state_id=").concat(f.value)).then(s=>s.json()).then(s=>{const e=s.map(s=>({value:s.id,label:s.name}));if(v(e),null!==j&&void 0!==j&&j.city_id){const s=m(e,j.city_id);s&&y(s)}}).catch(()=>i.oR.error("Failed to load cities."))},[f,j]),(0,n.useEffect)(()=>{e&&(j?(g({name:j.name||"",number:j.mobile||"",email:j.email||"",password:""}),S(m(x,j.state_id)),A(m(d,j.status))):(g({name:"",number:"",email:"",password:""}),S(null),y(null),A(null)))},[j,x,e]);if(!e)return null;const R=_?"Update Investor":"Add New Investor",E=_?"Update Investor":"Add Investor";return(0,o.jsx)("div",{className:"modal-overlay",onClick:a,children:(0,o.jsxs)("div",{className:"modal-content",onClick:s=>s.stopPropagation(),children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsx)("h2",{children:R}),(0,o.jsx)("button",{className:"modal-close-btn",onClick:a,children:(0,o.jsx)(l.QCr,{})})]}),(0,o.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),C)return;if(!h(p,f,k,w,_))return;I(!0);const e={name:p.name,mobile:p.number,email:p.email,state_id:f.value,city_id:k.value,status:w.value};_?e.id=j.id:e.password=p.password;const n=_?(0,c.e)("update-offline-investor.php"):(0,c.e)("add-offline-investor.php");try{const s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),l=await s.json();l.success?(i.oR.success(l.message),u(),a()):i.oR.error(l.message||"Something went wrong.")}catch(l){i.oR.error("\ud83d\udeab Server error. Please try again."),console.error(l)}finally{I(!1)}},children:[(0,o.jsxs)("div",{className:"form-row",children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)(l.x$1,{className:"form-icon"}),(0,o.jsx)("input",{type:"text",placeholder:"Name",value:p.name,onChange:s=>g((0,t.A)((0,t.A)({},p),{},{name:s.target.value}))})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)(l.maD,{className:"form-icon"}),(0,o.jsx)("input",{type:"email",placeholder:"Email",value:p.email,onChange:s=>g((0,t.A)((0,t.A)({},p),{},{email:s.target.value}))})]})]}),(0,o.jsxs)("div",{className:"form-row",children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)(l.Cab,{className:"form-icon"}),(0,o.jsx)("input",{type:"tel",placeholder:"Mobile Number",value:p.number,onChange:s=>g((0,t.A)((0,t.A)({},p),{},{number:s.target.value}))})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)(l.JhU,{className:"form-icon"}),(0,o.jsx)("input",{type:"password",placeholder:"Password",value:p.password,onChange:s=>g((0,t.A)((0,t.A)({},p),{},{password:s.target.value})),disabled:_})]})]}),(0,o.jsxs)("div",{className:"form-row",children:[(0,o.jsxs)("div",{className:"form-group select-group",children:[(0,o.jsx)(l.vq8,{className:"form-icon"}),(0,o.jsx)(r.Ay,{options:x,value:f,onChange:S,placeholder:"Select State"})]}),(0,o.jsxs)("div",{className:"form-group select-group",children:[(0,o.jsx)(l.zsO,{className:"form-icon"}),(0,o.jsx)(r.Ay,{options:N,value:k,onChange:y,placeholder:"Select City",isDisabled:!f})]})]}),(0,o.jsx)("div",{className:"form-row",children:(0,o.jsxs)("div",{className:"form-group select-group",children:[(0,o.jsx)(l.__w,{className:"form-icon"}),(0,o.jsx)(r.Ay,{options:d,value:w,onChange:A,placeholder:"Select Status"})]})}),(0,o.jsx)("button",{type:"submit",className:"submit-btn",disabled:C,children:C?"Processing...":E})]})]})})}a(742),a(4861);var j=a(8537);function x(){const[s,e]=(0,n.useState)([]),[a,t]=(0,n.useState)(!0),[r,d]=(0,n.useState)(null),[m,h]=(0,n.useState)(!1),[x,b]=(0,n.useState)(null),N=(0,n.useCallback)(async()=>{t(!0);try{const s=await fetch((0,c.e)("get-offline-investors.php"));if(!s.ok)throw new Error("HTTP error! status: ".concat(s.status));const a=await s.json();a.success?(e(a.data),d(null)):(i.oR.error(a.message||"Failed to fetch investors."),d(a.message))}catch(s){i.oR.error("\ud83d\udeab Network error. Please check your server connection."),d(s.message)}finally{t(!1)}},[]);(0,n.useEffect)(()=>{N()},[N]);const v=()=>{h(!1),b(null)};return a?(0,o.jsxs)("div",{className:"dashboard-container",children:[(0,o.jsx)(j.A,{}),(0,o.jsx)("div",{className:"main-content",children:(0,o.jsxs)("div",{className:"investor-table-container",children:[(0,o.jsx)("h2",{className:"table-title",children:"Offline Investors"}),(0,o.jsx)("div",{className:"loading",children:"Loading investors..."})]})})]}):r?(0,o.jsxs)("div",{className:"dashboard-container",children:[(0,o.jsx)(j.A,{}),(0,o.jsx)("div",{className:"main-content",children:(0,o.jsxs)("div",{className:"investor-table-container",children:[(0,o.jsx)("h2",{className:"table-title",children:"Offline Investors"}),(0,o.jsxs)("div",{className:"error",children:["Error: ",r]})]})})]}):(0,o.jsxs)("div",{className:"dashboard-container",children:[(0,o.jsx)(j.A,{}),(0,o.jsxs)("div",{className:"main-content",children:[(0,o.jsx)(i.N9,{position:"top-right",autoClose:3e3}),(0,o.jsxs)("div",{className:"investor-table-container",children:[(0,o.jsxs)("div",{className:"table-header",children:[(0,o.jsx)("h2",{className:"table-title",children:"Offline Investors"}),(0,o.jsxs)("button",{className:"add-investor-btn",onClick:()=>{b(null),h(!0)},children:[(0,o.jsx)(l.E5P,{className:"btn-icon"}),"Add Investor"]})]}),0===s.length?(0,o.jsx)("div",{className:"no-data",children:"No investors found."}):(0,o.jsx)("div",{className:"table-wrapper",children:(0,o.jsxs)("table",{children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Name"}),(0,o.jsx)("th",{children:"Mobile"}),(0,o.jsx)("th",{children:"Email"}),(0,o.jsx)("th",{children:"Status"}),(0,o.jsx)("th",{children:"Mode"}),(0,o.jsx)("th",{children:"Actions"})]})}),(0,o.jsx)("tbody",{children:s.map(s=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{"data-label":"Name",children:s.name}),(0,o.jsx)("td",{"data-label":"Mobile",children:s.mobile}),(0,o.jsx)("td",{"data-label":"Email",children:s.email}),(0,o.jsx)("td",{"data-label":"Status",className:"active"===s.status?"status-active":"status-not-active",children:s.status}),(0,o.jsx)("td",{"data-label":"Mode",children:s.mode}),(0,o.jsxs)("td",{"data-label":"Actions",children:[(0,o.jsx)("button",{className:"action-btn edit-btn",onClick:()=>(s=>{b(s),h(!0)})(s),children:"Edit"}),(0,o.jsx)("button",{className:"action-btn delete-btn",children:"Delete"})]})]},s.id))})]})})]}),(0,o.jsx)(u,{show:m,onClose:v,onFormSubmissionSuccess:()=>{N(),v()},editingInvestor:x})]})]})}},8537:(s,e,a)=>{a.d(e,{A:()=>o});var n=a(9379),i=a(5043),l=a(9981),t=a(7488),r=a(184),c=a(579);const o=()=>{const[s,e]=(0,i.useState)({master:!1,franchising:!1,marketing:!1,leasing:!1,admin:!1}),[a,o]=(0,i.useState)(!1),[d,m]=(0,i.useState)("Guest"),[h,u]=(0,i.useState)(""),j=(0,l.Zp)();(0,i.useEffect)(()=>{const s=localStorage.getItem("adminName"),e=localStorage.getItem("adminEmail");s&&m(s),e&&u(e)},[]);const x=s=>{e(e=>(0,n.A)((0,n.A)({},e),{},{[s]:!e[s]}))};return(0,c.jsxs)("aside",{className:"snbs-sidebar ".concat(a?"collapsed":""),children:[(0,c.jsxs)("div",{className:"snbs-sidebar-header",children:[(0,c.jsx)("div",{className:"snbs-logo",children:!a&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h2",{children:"FRANMAX INDIA"}),(0,c.jsxs)("p",{className:"snbs-role",children:["Welcome, ",d]}),h&&(0,c.jsx)("p",{className:"snbs-email",children:h})]})}),(0,c.jsx)("button",{className:"snbs-toggle-btn",onClick:()=>o(!a),children:a?(0,c.jsx)(r.OXb,{}):(0,c.jsx)(r.QCr,{})})]}),(0,c.jsxs)("nav",{className:"snbs-menu",children:[(0,c.jsxs)("div",{className:"snbs-section",children:[(0,c.jsxs)("div",{className:"snbs-section-header",onClick:()=>x("franchising"),children:[(0,c.jsx)("span",{children:"FRANCHISING"}),s.franchising?(0,c.jsx)(r.Vr3,{}):(0,c.jsx)(r.X6T,{})]}),s.franchising&&!a&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(l.N_,{to:"/admin/brand-list",className:"snbs-link",children:[(0,c.jsx)(r.ymh,{})," Brand"]}),(0,c.jsxs)(l.N_,{to:"/admin/investors",className:"snbs-link",children:[(0,c.jsx)(r.p7b,{})," Investor"]}),(0,c.jsxs)(l.N_,{to:"/admin/leads",className:"snbs-link",children:[(0,c.jsx)(r.p7b,{}),"Generic Inquiries"]}),(0,c.jsxs)(l.N_,{to:"/admin/brand-inquiries",className:"snbs-link",children:[(0,c.jsx)(r.p7b,{}),"Brand Specific Inquiries"]}),(0,c.jsxs)(l.N_,{to:"/admin/partner-inquiries",className:"snbs-link",children:[(0,c.jsx)(r.p7b,{}),"Partner Inquiries"]}),(0,c.jsxs)(l.N_,{to:"/admin/newsletter",className:"snbs-link",children:[(0,c.jsx)(r.p7b,{}),"Newsletter"]}),(0,c.jsxs)(l.N_,{to:"/admin/faq",className:"snbs-link",children:[(0,c.jsx)(r.p7b,{}),"FAQ"]}),(0,c.jsxs)(l.N_,{to:"/admin/event",className:"snbs-link",children:[(0,c.jsx)(r.p7b,{}),"Event"]})]})]}),(0,c.jsxs)("div",{className:"snbs-section",children:[(0,c.jsxs)("div",{className:"snbs-section-header",onClick:()=>x("marketing"),children:[(0,c.jsx)("span",{children:"MARKETING"}),s.marketing?(0,c.jsx)(r.Vr3,{}):(0,c.jsx)(r.X6T,{})]}),s.marketing&&!a&&(0,c.jsxs)(l.N_,{to:"/admin/marketing-inquiries",className:"snbs-link",children:[(0,c.jsx)(r.sdT,{})," Marketing"]})]}),(0,c.jsxs)("div",{className:"snbs-section",children:[(0,c.jsxs)("div",{className:"snbs-section-header",onClick:()=>x("leasing"),children:[(0,c.jsx)("span",{children:"LEASING"}),s.leasing?(0,c.jsx)(r.Vr3,{}):(0,c.jsx)(r.X6T,{})]}),s.leasing&&!a&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(l.N_,{to:"#",className:"snbs-link",children:[(0,c.jsx)(r.zsO,{})," Buy Lease Property inquiries"]}),(0,c.jsxs)(l.N_,{to:"/admin/lease-properties",className:"snbs-link",children:[(0,c.jsx)(r.zsO,{})," Lease Property inquiries"]}),(0,c.jsxs)(l.N_,{to:"#",className:"snbs-link",children:[(0,c.jsx)(r.zsO,{})," Sell Property"]}),(0,c.jsxs)(l.N_,{to:"/admin/buy-business-inquiries",className:"snbs-link",children:[(0,c.jsx)(r.zsO,{}),"Buy Business Inquiry"]}),(0,c.jsxs)(l.N_,{to:"/admin/sell-business-inquiries",className:"snbs-link",children:[(0,c.jsx)(r.zsO,{})," Sell Business"]})]})]}),(0,c.jsxs)("div",{className:"snbs-section",children:[(0,c.jsxs)("div",{className:"snbs-section-header",onClick:()=>x("admin"),children:[(0,c.jsx)("span",{children:"ADMIN"}),s.admin?(0,c.jsx)(r.Vr3,{}):(0,c.jsx)(r.X6T,{})]}),s.admin&&!a&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(l.N_,{to:"/user-list",className:"snbs-link",children:[(0,c.jsx)(r.YXz,{})," Users"]}),(0,c.jsxs)(l.N_,{to:"#",onClick:()=>{localStorage.removeItem("adminId"),localStorage.removeItem("adminName"),localStorage.removeItem("adminEmail"),t.oR.info("You have been logged out."),j("/admin/login")},className:"snbs-link",children:[(0,c.jsx)(r.x7F,{})," Logout"]})]})]})]})]})}}}]);
//# sourceMappingURL=5495.b6ce8770.chunk.js.map