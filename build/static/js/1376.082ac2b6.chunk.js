"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[1376],{1376:(s,e,a)=>{a.r(e),a.d(e,{default:()=>h});var n=a(9379),i=a(5043),t=a(3862),l=a(184),c=a(6720),r=a(8537),d=a(7488),o=a(579);const m={online:(0,o.jsx)(c.zDi,{className:"icon"}),offline:(0,o.jsx)(c.qod,{className:"icon"}),hybrid:(0,o.jsx)(c.zhW,{className:"icon"})};function h(){const[s,e]=(0,i.useState)([]),[a,c]=(0,i.useState)(!0),[h,j]=(0,i.useState)(null),[x,u]=(0,i.useState)(!1),[b,N]=(0,i.useState)({name:"",state_id:"",city_id:"",mas_cat_id:"",mobile:"",email:"",password:""}),[p,g]=(0,i.useState)(null),[v,y]=(0,i.useState)(""),[_,f]=(0,i.useState)(""),[k,S]=(0,i.useState)([]),[C,A]=(0,i.useState)([]),[w,I]=(0,i.useState)([]);(0,i.useEffect)(()=>{F(),q(),E()},[]);const F=async()=>{c(!0);try{const s=await fetch((0,t.e)("get-register-brands.php")),a=await s.json();a.success?e(a.data):j(a.message||"Failed to load brands")}catch(s){j("Network error: "+s.message)}finally{c(!1)}},q=async()=>{try{const s=await fetch((0,t.e)("get-indian-states.php")),e=await s.json();Array.isArray(e)&&S(e)}catch(s){console.error("Failed to fetch states:",s)}},E=async()=>{try{const s=await fetch((0,t.e)("get-master-category.php")),e=await s.json();if(Array.isArray(e)){const s=e.filter(s=>"0"===s.is_deleted);I(s)}}catch(s){console.error("Failed to fetch master categories:",s)}},B=s=>{N((0,n.A)((0,n.A)({},b),{},{[s.target.name]:s.target.value}))},R=()=>{g(null),y(""),f("")};return(0,o.jsxs)("div",{className:"dashboard-layout",children:[(0,o.jsx)(r.A,{}),(0,o.jsxs)("div",{className:"dashboard-content",children:[(0,o.jsx)("h2",{className:"brand-title",children:"Registered Brands"}),(0,o.jsxs)("button",{className:"add-brand-btn",onClick:()=>u(!0),children:[(0,o.jsx)(l.OiG,{})," Add Brand"]}),x&&(0,o.jsx)("div",{className:"modal-overlay",children:(0,o.jsxs)("div",{className:"modal improved-modal",children:[(0,o.jsx)("h3",{className:"modal-title",children:"Add New Brand"}),[{label:"Brand Name",name:"name",type:"text",placeholder:"Enter brand name"},{label:"Mobile",name:"mobile",type:"text",placeholder:"Enter mobile number"},{label:"Email",name:"email",type:"email",placeholder:"Enter email address"},{label:"Password",name:"password",type:"password",placeholder:"Enter password"}].map(s=>(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:s.label}),(0,o.jsx)("input",{type:s.type,name:s.name,value:b[s.name],onChange:B,placeholder:s.placeholder})]},s.name)),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"State"}),(0,o.jsxs)("select",{name:"state_id",value:b.state_id,onChange:s=>{const e=s.target.value;N((0,n.A)((0,n.A)({},b),{},{state_id:e,city_id:""})),e?(async e=>{try{const s=await fetch((0,t.e)("get-cities.php?state_id=".concat(e))),a=await s.json();Array.isArray(a)&&A(a)}catch(s){console.error("Failed to fetch cities:",s)}})(e):A([])},children:[(0,o.jsx)("option",{value:"",children:"-- Select State --"}),k.map(s=>(0,o.jsx)("option",{value:s.id,children:s.name},s.id))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"City"}),(0,o.jsxs)("select",{name:"city_id",value:b.city_id,onChange:B,children:[(0,o.jsx)("option",{value:"",children:"-- Select City --"}),C.map(s=>(0,o.jsx)("option",{value:s.id,children:s.name},s.id))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Master Category"}),(0,o.jsxs)("select",{name:"mas_cat_id",value:b.mas_cat_id,onChange:B,children:[(0,o.jsx)("option",{value:"",children:"-- Select Master Category --"}),w.map(s=>(0,o.jsx)("option",{value:s.mas_cat_id,children:s.mas_cat_name},s.mas_cat_id))]})]}),(0,o.jsxs)("div",{className:"modal-actions",children:[(0,o.jsx)("button",{className:"save-btn",onClick:async()=>{const{name:s,state_id:e,city_id:a,mas_cat_id:n,mobile:i,email:l,password:c}=b;if(s&&e&&a&&n&&i&&l&&c)try{const s=await fetch((0,t.e)("add-brand.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b.name,mobile:b.mobile,email:b.email,password:b.password,state_id:b.state_id,city_id:b.city_id,mas_cat_id:b.mas_cat_id})}),e=await s.json();e.success?(d.oR.success("Brand added successfully"),u(!1),F(),N({name:"",state_id:"",city_id:"",mas_cat_id:"",mobile:"",email:"",password:""}),A([])):d.oR.error(e.message||"Failed to add brand")}catch(r){d.oR.error("API error: "+r.message)}else d.oR.error("All fields are required")},children:"Save"}),(0,o.jsx)("button",{className:"cancel-btn",onClick:()=>u(!1),children:"Cancel"})]})]})}),a?(0,o.jsx)("div",{className:"status-msg",children:"Loading..."}):h?(0,o.jsx)("div",{className:"status-msg error",children:h}):0===s.length?(0,o.jsx)("div",{className:"status-msg",children:"No brands found."}):(0,o.jsx)("div",{className:"table-wrapper",children:(0,o.jsxs)("table",{className:"brand-table",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Brand Name"}),(0,o.jsx)("th",{children:"Mobile"}),(0,o.jsx)("th",{children:"Email"}),(0,o.jsx)("th",{children:"Location"}),(0,o.jsx)("th",{children:"Sector"}),(0,o.jsx)("th",{children:"Status"}),(0,o.jsx)("th",{children:"Mode"}),(0,o.jsx)("th",{children:"Registered At"}),(0,o.jsx)("th",{children:"Actions"})," "]})}),(0,o.jsx)("tbody",{children:s.map(s=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:s.name}),(0,o.jsxs)("td",{children:[(0,o.jsx)(l.Cab,{className:"icon"})," ",s.mobile]}),(0,o.jsxs)("td",{children:[(0,o.jsx)(l.maD,{className:"icon"})," ",s.email]}),(0,o.jsxs)("td",{children:[(0,o.jsx)(l.vq8,{className:"icon"})," ",s.city_name,", ",s.state_name]}),(0,o.jsxs)("td",{children:[(0,o.jsx)(l.CLz,{className:"icon"})," ",s.sector_name||"N/A"]}),(0,o.jsx)("td",{children:p===s.id?(0,o.jsxs)("select",{value:v,onChange:s=>y(s.target.value),className:"status-select",children:[(0,o.jsx)("option",{value:"active",children:"active"}),(0,o.jsx)("option",{value:"not active",children:"not active"})]}):(0,o.jsx)("span",{className:"status ".concat("active"===s.status?"active":"not active"),children:s.status})}),(0,o.jsx)("td",{children:p===s.id?(0,o.jsxs)("select",{value:_,onChange:s=>f(s.target.value),className:"mode-select",children:[(0,o.jsx)("option",{value:"online",children:"online"}),(0,o.jsx)("option",{value:"offline",children:"offline"}),(0,o.jsx)("option",{value:"hybrid",children:"hybrid"})]}):(0,o.jsxs)(o.Fragment,{children:[m[s.mode]||"\u2014"," ",s.mode]})}),(0,o.jsxs)("td",{children:[(0,o.jsx)(l.w_X,{className:"icon"})," ",s.created_at]}),(0,o.jsx)("td",{children:p===s.id?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{className:"action-btn save-btn",onClick:()=>(async s=>{try{const e=await fetch((0,t.e)("update-brand-status-mode.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s,status:v,mode:_})}),a=await e.json();a.success?(d.oR.success("Brand updated successfully"),F(),R()):d.oR.error(a.message||"Failed to update brand")}catch(e){d.oR.error("API error: "+e.message)}})(s.id),title:"Save Changes",children:(0,o.jsx)(l.dIn,{})}),(0,o.jsx)("button",{className:"action-btn cancel-btn",onClick:R,title:"Cancel Edit",children:(0,o.jsx)(l.QCr,{})})]}):(0,o.jsx)("button",{className:"action-btn edit-btn",onClick:()=>(s=>{g(s.id),y(s.status),f(s.mode)})(s),title:"Edit Brand",children:(0,o.jsx)(l.uO9,{})})})]},s.id))})]})})]})]})}},8537:(s,e,a)=>{a.d(e,{A:()=>d});var n=a(9379),i=a(5043),t=a(9981),l=a(7488),c=a(184),r=a(579);const d=()=>{const[s,e]=(0,i.useState)({master:!1,franchising:!1,marketing:!1,leasing:!1,admin:!1}),[a,d]=(0,i.useState)(!1),[o,m]=(0,i.useState)("Guest"),[h,j]=(0,i.useState)(""),x=(0,t.Zp)();(0,i.useEffect)(()=>{const s=localStorage.getItem("adminName"),e=localStorage.getItem("adminEmail");s&&m(s),e&&j(e)},[]);const u=s=>{e(e=>(0,n.A)((0,n.A)({},e),{},{[s]:!e[s]}))};return(0,r.jsxs)("aside",{className:"snbs-sidebar ".concat(a?"collapsed":""),children:[(0,r.jsxs)("div",{className:"snbs-sidebar-header",children:[(0,r.jsx)("div",{className:"snbs-logo",children:!a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{children:"FRANMAX INDIA"}),(0,r.jsxs)("p",{className:"snbs-role",children:["Welcome, ",o]}),h&&(0,r.jsx)("p",{className:"snbs-email",children:h})]})}),(0,r.jsx)("button",{className:"snbs-toggle-btn",onClick:()=>d(!a),children:a?(0,r.jsx)(c.OXb,{}):(0,r.jsx)(c.QCr,{})})]}),(0,r.jsxs)("nav",{className:"snbs-menu",children:[(0,r.jsxs)("div",{className:"snbs-section",children:[(0,r.jsxs)("div",{className:"snbs-section-header",onClick:()=>u("franchising"),children:[(0,r.jsx)("span",{children:"FRANCHISING"}),s.franchising?(0,r.jsx)(c.Vr3,{}):(0,r.jsx)(c.X6T,{})]}),s.franchising&&!a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.N_,{to:"/admin/brand-list",className:"snbs-link",children:[(0,r.jsx)(c.ymh,{})," Brand"]}),(0,r.jsxs)(t.N_,{to:"/admin/investors",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{})," Investor"]}),(0,r.jsxs)(t.N_,{to:"/admin/leads",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{}),"Generic Inquiries"]}),(0,r.jsxs)(t.N_,{to:"/admin/brand-inquiries",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{}),"Brand Specific Inquiries"]}),(0,r.jsxs)(t.N_,{to:"/admin/partner-inquiries",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{}),"Partner Inquiries"]}),(0,r.jsxs)(t.N_,{to:"/admin/newsletter",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{}),"Newsletter"]}),(0,r.jsxs)(t.N_,{to:"/admin/faq",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{}),"FAQ"]}),(0,r.jsxs)(t.N_,{to:"/admin/event",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{}),"Event"]})]})]}),(0,r.jsxs)("div",{className:"snbs-section",children:[(0,r.jsxs)("div",{className:"snbs-section-header",onClick:()=>u("marketing"),children:[(0,r.jsx)("span",{children:"MARKETING"}),s.marketing?(0,r.jsx)(c.Vr3,{}):(0,r.jsx)(c.X6T,{})]}),s.marketing&&!a&&(0,r.jsxs)(t.N_,{to:"/admin/marketing-inquiries",className:"snbs-link",children:[(0,r.jsx)(c.sdT,{})," Marketing"]})]}),(0,r.jsxs)("div",{className:"snbs-section",children:[(0,r.jsxs)("div",{className:"snbs-section-header",onClick:()=>u("leasing"),children:[(0,r.jsx)("span",{children:"LEASING"}),s.leasing?(0,r.jsx)(c.Vr3,{}):(0,r.jsx)(c.X6T,{})]}),s.leasing&&!a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.N_,{to:"#",className:"snbs-link",children:[(0,r.jsx)(c.zsO,{})," Buy Lease Property inquiries"]}),(0,r.jsxs)(t.N_,{to:"/admin/lease-properties",className:"snbs-link",children:[(0,r.jsx)(c.zsO,{})," Lease Property inquiries"]}),(0,r.jsxs)(t.N_,{to:"#",className:"snbs-link",children:[(0,r.jsx)(c.zsO,{})," Sell Property"]}),(0,r.jsxs)(t.N_,{to:"/admin/buy-business-inquiries",className:"snbs-link",children:[(0,r.jsx)(c.zsO,{}),"Buy Business Inquiry"]}),(0,r.jsxs)(t.N_,{to:"/admin/sell-business-inquiries",className:"snbs-link",children:[(0,r.jsx)(c.zsO,{})," Sell Business"]})]})]}),(0,r.jsxs)("div",{className:"snbs-section",children:[(0,r.jsxs)("div",{className:"snbs-section-header",onClick:()=>u("admin"),children:[(0,r.jsx)("span",{children:"ADMIN"}),s.admin?(0,r.jsx)(c.Vr3,{}):(0,r.jsx)(c.X6T,{})]}),s.admin&&!a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.N_,{to:"/user-list",className:"snbs-link",children:[(0,r.jsx)(c.YXz,{})," Users"]}),(0,r.jsxs)(t.N_,{to:"#",onClick:()=>{localStorage.removeItem("adminId"),localStorage.removeItem("adminName"),localStorage.removeItem("adminEmail"),l.oR.info("You have been logged out."),x("/admin/login")},className:"snbs-link",children:[(0,r.jsx)(c.x7F,{})," Logout"]})]})]})]})]})}}}]);
//# sourceMappingURL=1376.082ac2b6.chunk.js.map