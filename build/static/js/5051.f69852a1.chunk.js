"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[5051],{5051:(e,s,n)=>{n.r(s),n.d(s,{default:()=>d});var i=n(5043),a=n(9981),t=n(9379),l=n(2270),r=n(7488),c=(n(2342),n(6901),n(3862)),o=n(579);const u=e=>{let{onClose:s,businessId:n}=e;const[a,u]=(0,i.useState)([]),[d,m]=(0,i.useState)([]),[h,p]=(0,i.useState)({name:"",number:"",email:"",state_id:"",city_id:"",message:"",business_id:n||""});(0,i.useEffect)(()=>{n&&p(e=>(0,t.A)((0,t.A)({},e),{},{business_id:n}))},[n]),(0,i.useEffect)(()=>{fetch((0,c.e)("get-indian-states.php")).then(e=>e.json()).then(e=>{if(Array.isArray(e)){const s=e.map(e=>({value:e.id,label:e.name}));u(s)}})},[]),(0,i.useEffect)(()=>{h.state_id?fetch((0,c.e)("get-cities.php?state_id=".concat(h.state_id))).then(e=>e.json()).then(e=>{if(Array.isArray(e)){const s=e.map(e=>({value:e.id,label:e.name}));m(s)}}):m([])},[h.state_id]);const x=e=>{const{name:s,value:n}=e.target;p(e=>(0,t.A)((0,t.A)({},e),{},{[s]:n}))},b=(e,s)=>{const{name:n}=s;p(s=>(0,t.A)((0,t.A)({},s),{},{[n]:e?e.value:""}))};return(0,o.jsxs)("div",{className:"enquiry-modal-overlay",children:[(0,o.jsxs)("div",{className:"enquiry-modal",children:[(0,o.jsx)("button",{className:"close-btn",onClick:s,children:"\xd7"}),(0,o.jsx)("h2",{children:"Send Enquiry"}),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{const{name:e,number:s,email:n,state_id:i,city_id:a}=h,t=e.trim();return t&&/^[a-zA-Z\s]+$/.test(t)?n&&/\S+@\S+\.\S+/.test(n)?/^[6-9]\d{9}$/.test(s)?i?!!a||(r.oR.error("Please select a city"),!1):(r.oR.error("Please select a state"),!1):(r.oR.error("Phone number must start with 6/7/8/9 and be 10 digits"),!1):(r.oR.error("Please enter a valid email"),!1):(r.oR.error("Please enter a valid name (no special characters or empty spaces)"),!1)})()&&fetch((0,c.e)("submit-business-enquiry.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}).then(e=>e.json()).then(e=>{e.success?(r.oR.success("Enquiry submitted successfully \u2705"),setTimeout(()=>s(),2e3)):r.oR.error(e.error||"Submission failed \u274c")}).catch(e=>{console.error("Submission error:",e),r.oR.error("An error occurred during submission")})},children:[(0,o.jsx)("input",{type:"hidden",name:"business_id",value:h.business_id}),(0,o.jsx)("input",{type:"text",name:"name",placeholder:"Full Name",value:h.name,onChange:x,required:!0}),(0,o.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:h.email,onChange:x,required:!0}),(0,o.jsx)("input",{type:"text",name:"number",placeholder:"Phone Number",value:h.number,onChange:x,required:!0}),(0,o.jsx)(l.Ay,{name:"state_id",placeholder:"Select State",options:a,value:a.find(e=>e.value===h.state_id)||null,onChange:b,className:"react-select",classNamePrefix:"select"}),(0,o.jsx)(l.Ay,{name:"city_id",placeholder:"Select City",options:d,value:d.find(e=>e.value===h.city_id)||null,onChange:b,className:"react-select",classNamePrefix:"select"}),(0,o.jsx)("textarea",{name:"message",placeholder:"Your message (optional)",value:h.message,onChange:x}),(0,o.jsx)("button",{type:"submit",className:"submit-btn",children:"Submit"})]})]}),(0,o.jsx)(r.N9,{position:"top-right",autoClose:3e3})]})},d=()=>{const{id:e}=(0,a.g)(),[s,n]=(0,i.useState)(null),[t,l]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{fetch((0,c.e)("get-business-detail.php?uuid=".concat(e))).then(e=>e.json()).then(e=>{e.success&&n(e.business)})},[e]),s?(0,o.jsxs)("div",{className:"business-detail",children:[(0,o.jsxs)("div",{className:"business-info",children:[(0,o.jsx)("div",{className:"business-image",children:(0,o.jsx)("img",{src:s.image,alt:"image not available"})}),(0,o.jsxs)("div",{className:"business-details",children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Expected Amount:"})," \u20b9",s.expected_amount]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Location:"})," ",s.city_name,", ",s.state_name]}),(0,o.jsx)("p",{children:(0,o.jsx)("strong",{children:"Description:"})}),(0,o.jsx)("p",{className:"description",children:s.description}),(0,o.jsx)("button",{onClick:()=>l(!0),className:"enquire-now-btn",children:"Enquire Now"})]})]}),(0,o.jsxs)("div",{className:"business-quote-section",children:[(0,o.jsx)("h3",{children:"Why Invest in a Running Business?"}),(0,o.jsx)("p",{className:"quote",children:'"Buying an existing business means cash flow from day one."'}),(0,o.jsxs)("ul",{className:"benefits-list",children:[(0,o.jsx)("li",{children:"\u2705 Immediate Revenue & Existing Customer Base"}),(0,o.jsx)("li",{children:"\u2705 Trained Staff & Established Brand"}),(0,o.jsx)("li",{children:"\u2705 Proven Business Model"}),(0,o.jsx)("li",{children:"\u2705 Easier to Finance from Banks/Investors"}),(0,o.jsx)("li",{children:"\u2705 Reduced Startup Risks"})]})]}),t&&(0,o.jsx)(u,{onClose:()=>l(!1),businessId:s.uuid})]}):(0,o.jsx)("div",{className:"loading",children:"Loading..."})}},6901:()=>{}}]);
//# sourceMappingURL=5051.f69852a1.chunk.js.map