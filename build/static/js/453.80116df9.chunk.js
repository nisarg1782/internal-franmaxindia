"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[453],{453:(s,e,n)=>{n.r(e),n.d(e,{default:()=>h});var a=n(9379),i=n(5043),l=n(2823),t=n.n(l),c=(n(5884),n(3610),n(8537)),r=n(184),d=n(3862),o=n(7488),m=(n(2342),n(579));function h(){const[s,e]=(0,i.useState)([]),[n,l]=(0,i.useState)(null),[h,x]=(0,i.useState)(!0),[j,u]=(0,i.useState)(!1),[N,b]=(0,i.useState)(null),[p,v]=(0,i.useState)({question:"",answer:""}),[w,g]=(0,i.useState)(null),[k,A]=(0,i.useState)({question:"",answer:""}),q=()=>{u(!1),A({question:"",answer:""})},f=()=>{b(null),v({question:"",answer:""})},C=s=>{const{name:e,value:n}=s.target;v(s=>(0,a.A)((0,a.A)({},s),{},{[e]:n}))},y=s=>{v(e=>(0,a.A)((0,a.A)({},e),{},{answer:s}))},S=()=>{g(null)},F=async s=>{x(!0);try{const e=await fetch((0,d.e)("add-faq.php"),{method:"POST",body:s});if(!e.ok)throw new Error("Network response was not ok.");const n=await e.json();n.success?(o.oR.success(n.message),_(),q(),b(null)):o.oR.error(n.message||"An unexpected error occurred.")}catch(e){o.oR.error("Failed to communicate with the server.")}finally{x(!1)}},I=s=>{s.preventDefault();const e=new FormData;e.append("action","edit"),e.append("id",N),e.append("question",p.question),e.append("answer",p.answer),F(e)},_=async()=>{x(!0);try{const s=await fetch((0,d.e)("get-faq.php"));if(!s.ok)throw new Error("Network response was not ok");const n=await s.json();n.success?e(n.faq):e([])}catch(s){o.oR.error("Failed to fetch FAQs.")}finally{x(!1)}};return(0,i.useEffect)(()=>{_()},[]),(0,m.jsxs)("div",{className:"newsletter-page-container",children:[(0,m.jsx)(c.A,{}),(0,m.jsxs)("div",{className:"main-content",children:[(0,m.jsx)(o.N9,{}),(0,m.jsxs)("div",{className:"table-header",children:[(0,m.jsx)("h2",{className:"table-title",children:"FAQs"}),(0,m.jsxs)("button",{onClick:()=>u(!0),className:"add-news-btn",children:[(0,m.jsx)(r.OiG,{className:"icon"})," Add FAQ"]})]}),h&&(0,m.jsx)("div",{className:"loading",children:"Loading..."}),!h&&0===s.length&&(0,m.jsx)("div",{className:"no-data-message",children:"No FAQs found."}),!h&&s.length>0&&(0,m.jsx)("div",{className:"table-wrapper",children:(0,m.jsxs)("table",{className:"newsletter-table",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"ID"}),(0,m.jsx)("th",{children:"Question"}),(0,m.jsx)("th",{children:"Created At"}),(0,m.jsx)("th",{children:"Action"})]})}),(0,m.jsx)("tbody",{children:s.map(s=>(0,m.jsxs)(i.Fragment,{children:[N===s.id?(0,m.jsxs)("tr",{className:"edit-row",children:[(0,m.jsx)("td",{children:s.id}),(0,m.jsx)("td",{children:(0,m.jsx)("input",{type:"text",name:"question",value:p.question,onChange:C})}),(0,m.jsx)("td",{children:s.created_at}),(0,m.jsxs)("td",{className:"action-buttons",children:[(0,m.jsxs)("button",{onClick:I,className:"save-btn",children:[(0,m.jsx)(r.dIn,{})," Save"]}),(0,m.jsxs)("button",{onClick:f,className:"cancel-btn",children:[(0,m.jsx)(r.QCr,{})," Cancel"]})]})]}):(0,m.jsxs)("tr",{className:"summary-row",children:[(0,m.jsx)("td",{children:s.id}),(0,m.jsx)("td",{children:s.question}),(0,m.jsx)("td",{children:s.created_at}),(0,m.jsxs)("td",{className:"action-buttons",children:[(0,m.jsx)("button",{onClick:()=>{return e=s.id,void l(n===e?null:e);var e},className:"expand-btn",children:n===s.id?"Hide Answer":"View Answer"}),(0,m.jsxs)("button",{onClick:()=>(s=>{b(s.id),v({question:s.question,answer:s.answer})})(s),className:"edit-btn",children:[(0,m.jsx)(r.uO9,{})," Edit"]}),(0,m.jsxs)("button",{onClick:()=>{return e=s.id,void g(e);var e},className:"delete-btn",children:[(0,m.jsx)(r.qbC,{})," Delete"]})]})]}),N===s.id&&(0,m.jsx)("tr",{className:"details-row",children:(0,m.jsx)("td",{colSpan:"4",children:(0,m.jsx)("div",{className:"details-box",children:(0,m.jsx)(t(),{theme:"snow",value:p.answer,onChange:y})})})}),n===s.id&&(0,m.jsx)("tr",{className:"details-row",children:(0,m.jsx)("td",{colSpan:"4",children:(0,m.jsx)("div",{className:"details-box",children:(0,m.jsx)("div",{className:"newsletter-description-html",dangerouslySetInnerHTML:{__html:s.answer}})})})})]},s.id))})]})})]}),j&&(0,m.jsx)("div",{className:"modal-overlay",children:(0,m.jsxs)("div",{className:"modal-content",children:[(0,m.jsxs)("div",{className:"modal-header",children:[(0,m.jsx)("h3",{children:"Add New FAQ"}),(0,m.jsx)("button",{className:"close-btn",onClick:q,children:"\xd7"})]}),(0,m.jsxs)("form",{onSubmit:s=>{s.preventDefault();const e=new FormData;e.append("action","add"),e.append("question",k.question),e.append("answer",k.answer),F(e)},className:"add-news-form",children:[(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{htmlFor:"question",children:"Question"}),(0,m.jsx)("input",{type:"text",id:"question",name:"question",value:k.question,onChange:s=>{const{value:e}=s.target;A(s=>(0,a.A)((0,a.A)({},s),{},{question:e}))},required:!0})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{children:"Answer"}),(0,m.jsx)(t(),{theme:"snow",value:k.answer,onChange:s=>{A(e=>(0,a.A)((0,a.A)({},e),{},{answer:s}))}})]}),(0,m.jsxs)("div",{className:"form-actions",children:[(0,m.jsx)("button",{type:"submit",className:"submit-btn",children:"Add FAQ"}),(0,m.jsx)("button",{type:"button",className:"cancel-btn",onClick:q,children:"Cancel"})]})]})]})}),w&&(0,m.jsx)("div",{className:"modal-overlay",children:(0,m.jsxs)("div",{className:"modal-content",children:[(0,m.jsxs)("div",{className:"modal-header",children:[(0,m.jsx)("h3",{children:"Confirm Deletion"}),(0,m.jsx)("button",{className:"close-btn",onClick:S,children:"\xd7"})]}),(0,m.jsx)("div",{className:"modal-body",children:(0,m.jsx)("p",{children:"Are you sure you want to delete this FAQ? This action cannot be undone."})}),(0,m.jsxs)("div",{className:"modal-footer",children:[(0,m.jsxs)("button",{className:"delete-btn",onClick:()=>{const s=new FormData;s.append("id",w),s.append("action","delete"),F(s),g(null)},children:[(0,m.jsx)(r.qbC,{})," Delete"]}),(0,m.jsxs)("button",{className:"cancel-btn",onClick:S,children:[(0,m.jsx)(r.QCr,{})," Cancel"]})]})]})})]})}},3610:()=>{},8537:(s,e,n)=>{n.d(e,{A:()=>d});var a=n(9379),i=n(5043),l=n(9981),t=n(7488),c=n(184),r=n(579);const d=()=>{const[s,e]=(0,i.useState)({master:!1,franchising:!1,marketing:!1,leasing:!1,admin:!1}),[n,d]=(0,i.useState)(!1),[o,m]=(0,i.useState)("Guest"),[h,x]=(0,i.useState)(""),j=(0,l.Zp)();(0,i.useEffect)(()=>{const s=localStorage.getItem("adminName"),e=localStorage.getItem("adminEmail");s&&m(s),e&&x(e)},[]);const u=s=>{e(e=>(0,a.A)((0,a.A)({},e),{},{[s]:!e[s]}))};return(0,r.jsxs)("aside",{className:"snbs-sidebar ".concat(n?"collapsed":""),children:[(0,r.jsxs)("div",{className:"snbs-sidebar-header",children:[(0,r.jsx)("div",{className:"snbs-logo",children:!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{children:"FRANMAX INDIA"}),(0,r.jsxs)("p",{className:"snbs-role",children:["Welcome, ",o]}),h&&(0,r.jsx)("p",{className:"snbs-email",children:h})]})}),(0,r.jsx)("button",{className:"snbs-toggle-btn",onClick:()=>d(!n),children:n?(0,r.jsx)(c.OXb,{}):(0,r.jsx)(c.QCr,{})})]}),(0,r.jsxs)("nav",{className:"snbs-menu",children:[(0,r.jsxs)("div",{className:"snbs-section",children:[(0,r.jsxs)("div",{className:"snbs-section-header",onClick:()=>u("franchising"),children:[(0,r.jsx)("span",{children:"FRANCHISING"}),s.franchising?(0,r.jsx)(c.Vr3,{}):(0,r.jsx)(c.X6T,{})]}),s.franchising&&!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.N_,{to:"/admin/brand-list",className:"snbs-link",children:[(0,r.jsx)(c.ymh,{})," Brand"]}),(0,r.jsxs)(l.N_,{to:"/admin/investors",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{})," Investor"]}),(0,r.jsxs)(l.N_,{to:"/admin/leads",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{}),"Generic Inquiries"]}),(0,r.jsxs)(l.N_,{to:"/admin/brand-inquiries",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{}),"Brand Specific Inquiries"]}),(0,r.jsxs)(l.N_,{to:"/admin/partner-inquiries",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{}),"Partner Inquiries"]}),(0,r.jsxs)(l.N_,{to:"/admin/newsletter",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{}),"Newsletter"]}),(0,r.jsxs)(l.N_,{to:"/admin/faq",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{}),"FAQ"]}),(0,r.jsxs)(l.N_,{to:"/admin/event",className:"snbs-link",children:[(0,r.jsx)(c.p7b,{}),"Event"]})]})]}),(0,r.jsxs)("div",{className:"snbs-section",children:[(0,r.jsxs)("div",{className:"snbs-section-header",onClick:()=>u("marketing"),children:[(0,r.jsx)("span",{children:"MARKETING"}),s.marketing?(0,r.jsx)(c.Vr3,{}):(0,r.jsx)(c.X6T,{})]}),s.marketing&&!n&&(0,r.jsxs)(l.N_,{to:"/admin/marketing-inquiries",className:"snbs-link",children:[(0,r.jsx)(c.sdT,{})," Marketing"]})]}),(0,r.jsxs)("div",{className:"snbs-section",children:[(0,r.jsxs)("div",{className:"snbs-section-header",onClick:()=>u("leasing"),children:[(0,r.jsx)("span",{children:"LEASING"}),s.leasing?(0,r.jsx)(c.Vr3,{}):(0,r.jsx)(c.X6T,{})]}),s.leasing&&!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.N_,{to:"#",className:"snbs-link",children:[(0,r.jsx)(c.zsO,{})," Buy Lease Property inquiries"]}),(0,r.jsxs)(l.N_,{to:"/admin/lease-properties",className:"snbs-link",children:[(0,r.jsx)(c.zsO,{})," Lease Property inquiries"]}),(0,r.jsxs)(l.N_,{to:"#",className:"snbs-link",children:[(0,r.jsx)(c.zsO,{})," Sell Property"]}),(0,r.jsxs)(l.N_,{to:"/admin/buy-business-inquiries",className:"snbs-link",children:[(0,r.jsx)(c.zsO,{}),"Buy Business Inquiry"]}),(0,r.jsxs)(l.N_,{to:"/admin/sell-business-inquiries",className:"snbs-link",children:[(0,r.jsx)(c.zsO,{})," Sell Business"]})]})]}),(0,r.jsxs)("div",{className:"snbs-section",children:[(0,r.jsxs)("div",{className:"snbs-section-header",onClick:()=>u("admin"),children:[(0,r.jsx)("span",{children:"ADMIN"}),s.admin?(0,r.jsx)(c.Vr3,{}):(0,r.jsx)(c.X6T,{})]}),s.admin&&!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.N_,{to:"/user-list",className:"snbs-link",children:[(0,r.jsx)(c.YXz,{})," Users"]}),(0,r.jsxs)(l.N_,{to:"#",onClick:()=>{localStorage.removeItem("adminId"),localStorage.removeItem("adminName"),localStorage.removeItem("adminEmail"),t.oR.info("You have been logged out."),j("/admin/login")},className:"snbs-link",children:[(0,r.jsx)(c.x7F,{})," Logout"]})]})]})]})]})}}}]);
//# sourceMappingURL=453.80116df9.chunk.js.map